<!DOCTYPE html>
<html>

<head>
  <title>Petition</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='eServices_Petition.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital@0;1&display=swap" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Roboto:ital@0;1&display=swap"
    rel="stylesheet">
</head>

<body>
  <div class="header">
    <div class="header-left-most">
      <img src="{{ url_for('static', filename='Images/CalendarBlank.png') }}" class="CalendarBlank">
      <p>MON - FRI: 08:00 AM - 17:30 PM</p>
    </div>
    <div class="header-center">
      <img src="{{ url_for('static', filename='Images/PhoneCall.png') }}" class="PhoneCall">
      <p>Hotline: (+632) 8-465-2400</p>
    </div>
    <div class="header-right-most">
      <p>Support: <span class="immigration-email">xinfo@immigration.gov.ph</span></p>
      <img src="{{ url_for('static', filename='Images/PhilippineCircle.png') }}" class="PhilippineCircle">
    </div>
  </div>
  <div class="below-header">
    <div class="below-header-left">
      <img src="{{ url_for('static', filename='Images/ImmigrationIcon.png') }}" class="ImmigrationIcon">
      <div class="below-header-left-text">
        <p class="republic-philippines">Republic of the Philippines</p>
        <p class="bureau-immigration">Bureau of Immigration</p>
      </div>
    </div>
    <div class="below-header-center">
      <a href="{{ url_for('auth.login') }}" class="Home">Log in</a>
      <a href="{{ url_for('home.home_index') }}" class="Home">Home</a>
      <a href="{{ url_for('home.about') }}"  class="About">About</a>
      <a href="{{ url_for('function.display_data') }}"  class="Services">Services</a>
      <a href="{{ url_for('home.visa') }}"  class="Visas">Visas</a>
      <a href="{{ url_for('home.eservices') }}"  class="eServices">eServices</a>
    </div>
    <div class="below-header-right">
      <img src="{{ url_for('static', filename='Images/Phone.png') }}" class="Phone">
      <p class="contact">Contact us</p>
    </div>
  </div>
  <form class="petition" method="POST" action="{{ url_for('form.edit_petition', entry_no=entry_no) if editing else url_for('form.petition') }}">
    <div class="petition-container">
    <div class="first-box">
      <button class="arrow-button" type="button" onclick="window.location.href='{{ url_for('home.home_index') }}'">
        <img src="{{ url_for('static', filename='Images/ArrowLeft.png') }}" class="ArrowLeft">
      </button>
      <img src="{{ url_for('static', filename='Images/ImmigrationLogo.png') }}" class="ImmigrationLogo">
        <div class="first-box-content">
          <p class="entry-number">ENTRY NO. 999</p>
          <p class="title-text">Petition for dual citizenship and issuance of identification certificate</p>
          <p class="number-1">1. NAME AS WRITTEN ON PHILIPPINE BIRTH CERTIFICATE OR REPORT OF BIRTH</p>
          <div class="first-row">
            <div class="first-name">
              <p class="first-name-text">First Name - Middle Name - Last Name</p>
                <input type="text" class="first-name-input" name="applicant_name" value="{{applicant.applicant_name if editing else '' }}">
            </div>
          </div>
            <div class="second-row-text">
              <p class="number-2">2. ARE YOU USING A DIFFERENT NAME?</p>
              <input type="radio" name="has_alternative_name" id="name-yes" class="radio-button" value="yes"
                {% if applicant.alternative_name %}checked{% endif %}>
              <label for="name-yes">YES</label>

              <input type="radio" name="has_alternative_name" id="name-no" class="radio-button" value="no"
                {% if not applicant.alternative_name %}checked{% endif %}>
              <label for="name-no">NO</label>
            </div>
          <div class="second-row">
            <div class="first-name">
              <p class="first-name-text">First Name - Middle Name - Last Name</p>
              <input type="text" class="first-name-input" name="alternative_name" value="{{ applicant.alternative_name if editing else '' }}">
            </div>
          </div>
          <p class="number-2-d">2d. SUPPORTING DOCUMENTS FOR CHANGE OF NAME</p>
          <div class="number-2-docs">
            <input type="checkbox" value="Court Decree" name="applicant_supporting_docs[]"
              {% if editing and 'Court Decree' in supporting_docs %}checked{% endif %}>
            <p>COURT DECREE</p>
            <input type="checkbox" value="Others" name="applicant_supporting_docs[]"
              {% if editing and others_text %}checked{% endif %}>
            <p>OTHERS</p>
            <input type="text" name="applicant_supporting_docs_others"
              value="{{ others_text if editing else '' }}">
          </div>
          <div class="third-row-text">
            <p class="number-3">3. Date of Birth (DD/MM/YY)</p>
            <p class="number-4">4. PLACE OF BIRTH (town or city, province or state, country)</p>
            <p class="number-5">5. GENDER</p>
          </div>
          <div class="third-row">
            <div class="birth-date">
              <input type="date" class="birthday" name="db_raw"
                {% if editing and applicant.applicant_DB %}value="{{ applicant.applicant_DB.strftime('%Y-%m-%d') }}"{% endif %}>
            </div>

            <div class="birth-place">
              <input type="text" class="birth-place-input" name="applicant_PB"
                {% if editing and applicant.applicant_PB %}value="{{ applicant.applicant_PB }}"{% endif %}>
            </div>

            <div class="gender">
              <input type="radio" class="gender-input" name="applicant_gender" value="M"
                {% if editing and applicant.applicant_gender == 'M' %}checked{% endif %}>
              <p class="male-text">MALE</p>

              <input type="radio" class="gender-input" name="applicant_gender" value="F"
                {% if editing and applicant.applicant_gender == 'F' %}checked{% endif %}>
              <p class="female-text">FEMALE</p>
            </div>
          </div>
          <div class="fourth-row">
            <p class="number-6">6. CIVIL STATUS:</p>

            <input type="radio" class="civil-status" id="s" name="applicant_cs" value="SINGLE"
              {% if editing and applicant.applicant_cs == 'SINGLE' %}checked{% endif %}>
            <p class="civil-status-choice">SINGLE</p>

            <input type="radio" class="civil-status" id="m" name="applicant_cs" value="MARRIED"
              {% if editing and applicant.applicant_cs == 'MARRIED' %}checked{% endif %}>
            <p class="civil-status-choice">MARRIED</p>

            <input type="radio" class="civil-status" id="d" name="applicant_cs" value="DIVORCED"
              {% if editing and applicant.applicant_cs == 'DIVORCED' %}checked{% endif %}>
            <p class="civil-status-choice">DIVORCED</p>

            <input type="radio" class="civil-status" id="w" name="applicant_cs" value="WIDOW/ER"
              {% if editing and applicant.applicant_cs == 'WIDOW/ER' %}checked{% endif %}>
            <p class="civil-status-choice">WIDOW/ER</p>

            <input type="radio" class="civil-status" id="o" name="applicant_cs" value="OTHERS"
              {% if editing and applicant.applicant_cs and applicant.applicant_cs.startswith('OTHERS') %}checked{% endif %}>
            <p class="civil-status-choice">OTHERS</p>

            {% if editing and applicant.applicant_cs and applicant.applicant_cs.startswith('OTHERS') %}
              <input type="text" name="civil_status_others" value="{{ applicant.applicant_cs.replace('OTHERS: ', '') }}">
            {% else %}
              <input type="text" name="civil_status_others">
            {% endif %}
          </div>
        </div>
      </div>
    {% set father = family_members | selectattr("relation", "equalto", "Father") | list | first %}
    {% set mother = family_members | selectattr("relation", "equalto", "Mother") | list | first %}
    {% set spouse = family_members | selectattr("relation", "equalto", "Spouse") | list | first %}
    <div class="second-box">
      <div class="second-box-left">
        <!-- SPOUSE -->
        <div class="second-box-left-first">
          <p class="a7">7.a. NAME OF APPLICANT'S SPOUSE (as written in the birth certificate)</p>
          <div class="first-name-family">
            <p class="first-name-text">First Name - Middle Name - Last Name</p>
            <input type="text" class="first-name-family-input" name="family_name_2"
              value="{{ spouse.family_name if editing and spouse else '' }}">
          </div>
          <!-- ✅ Corrected: relation_2 for Spouse -->
          <input type="hidden" name="relation_2" value="Spouse">
          <div class="first-name-family">
            <p class="first-name-text">Additional Detail: Spouse Address</p>
            <input type="text" class="first-name-family-input" name="spouse_address_2"
              value="{{ spouse.spouse_details.spouse_address if editing and spouse and spouse.spouse_details else '' }}">
          </div>
        </div>

        <!-- FATHER -->
        <div class="second-box-left-second">
          <p class="a7">8.a. NAME OF APPLICANT’S FATHER (as written in the birth certificate)</p>
          <div class="first-name-family">
            <p class="first-name-text">First Name - Middle Name - Last Name</p>
            <input type="text" class="first-name-family-input" name="family_name_0"
              value="{{ father.family_name if editing and father else '' }}">
          </div>
          <!-- ✅ Corrected: relation_0 for Father -->
          <input type="hidden" name="relation_0" value="Father">
        </div>

        <!-- MOTHER -->
        <div class="second-box-left-third">
          <p class="a7">9.a. NAME OF APPLICANT’S MOTHER (as written in the birth certificate)</p>
          <div class="first-name-family">
            <p class="first-name-text">First Name - Middle Name - Last Name</p>
            <input type="text" class="first-name-family-input" name="family_name_1"
              value="{{ mother.family_name if editing and mother else '' }}">
          </div>
          <!-- ✅ Corrected: relation_1 for Mother -->
          <input type="hidden" name="relation_1" value="Mother">
        </div>
      </div>
      <div class="second-box-right">
        <div class="second-box-right-first">
          <p class="b7">7.b. CITIZENSHIP OF SPOUSE AT THE TIME OF APPLICATION</p>
          <input type="text" class="citizenship-family-input" name="citizenship_2"
            value="{{ spouse.citizenship if editing and spouse else '' }}">
        </div>

        <div class="second-box-right-first">
          <p class="b7">8.b. FATHER’S CITIZENSHIP AT THE TIME OF APPLICANT’S BIRTH</p>
          <input type="text" class="citizenship-family-input" name="citizenship_0"
            value="{{ father.citizenship if editing and father else '' }}">
        </div>

        <div class="second-box-right-first">
          <p class="b7">9.b. MOTHER’S CITIZENSHIP AT THE TIME OF APPLICANT’S BIRTH</p>
          <input type="text" class="citizenship-family-input" name="citizenship_1"
            value="{{ mother.citizenship if editing and mother else '' }}">
        </div>
      </div>
    </div>
    <div class="third-box">
      <div class="third-box-first">
        <p class="a10">10. HOW PHILIPPINE CITIZENSHIP WAS INITIALLY ACQUIRED</p>
        <input type="radio" class="philippine-citizenship-input" name="mode_ph_acquisition" value="Birth"
          {% if editing and applicant.philippine.mode_ph_acquisition == 'Birth' %}checked{% endif %}>
        <p class="philippine-citizenship-choice">BIRTH</p>

        <input type="radio" class="philippine-citizenship-input" name="mode_ph_acquisition" value="Election"
          {% if editing and applicant.philippine.mode_ph_acquisition == 'Election' %}checked{% endif %}>
        <p class="philippine-citizenship-choice">ELECTION</p>

          
        <input type="radio" class="philippine-citizenship-input" name="mode_ph_acquisition" value="Marriage"
          {% if editing and applicant.philippine.mode_ph_acquisition == 'Marriage' %}checked{% endif %}>
        <p class="philippine-citizenship-choice">MARRIAGE</p>

        <input type="radio" class="philippine-citizenship-input" name="mode_ph_acquisition" value="Naturalization"
          {% if editing and applicant.philippine.mode_ph_acquisition == 'Naturalization' %}checked{% endif %}>
        <p class="philippine-citizenship-choice">NATURALIZATION</p>

        <input type="radio" class="philippine-citizenship-input" name="mode_ph_acquisition" value="Others:"
          {% if editing and applicant.philippine.mode_ph_acquisition and applicant.philippine.mode_ph_acquisition.startswith('Others:') %}checked{% endif %}>
        <p class="philippine-citizenship-choice">OTHERS</p>

        {% if editing and applicant.philippine.mode_ph_acquisition and applicant.philippine.mode_ph_acquisition.startswith('Others:') %}
          <input type="text" class="philippine-citizenship-others" name="mode_ph_acquisition_others"
                value="{{ applicant.philippine.mode_ph_acquisition.replace('Others:', '').strip() }}">
        {% else %}
          <input type="text" name="mode_ph_acquisition_others" class="philippine-citizenship-others">
        {% endif %}
      </div>
      <div class="third-box-second">
        <p class="a10">11. SUPPORTING DOCUMENTS SUBMITTED TO PROVE THAT THE APPLICANT WAS A FORMER CITIZEN OF THE PHILIPPINES: </p>
        <div class="third-box-second-choice">
          <input type="checkbox" class="citizenship-document-input" name="ph_docs[]" value="PH Birth Certificate"
            {% if editing and 'PH Birth Certificate' in applicant.philippine.ph_docs %}checked{% endif %}>
          <p class="citizenship-document-choice">Philippine Birth Certificate</p>
        </div>

        <div class="third-box-second-choice">
          <input type="checkbox" class="citizenship-document-input" name="ph_docs[]" value="Marriage Contract"
            {% if editing and 'Marriage Contract' in applicant.philippine.ph_docs %}checked{% endif %}>
          <p class="citizenship-document-choice">Marriage Contract indicating Philippine Citizenship of the applicant</p>
        </div>

        <div class="third-box-second-choice">
          <input type="checkbox" class="citizenship-document-input" name="ph_docs[]" value="PH Passport"
             {% if editing and 'PH Passport' in applicant.philippine.ph_docs %}checked{% endif %}>
          <p class="citizenship-document-choice">Old Philippine Passport</p>
        </div>

        <div class="third-box-second-choice">
          <input type="checkbox" class="citizenship-document-input" name="ph_docs[]" value="Voter’s Affiavit/ID"
            {% if editing and 'Voter’s Affiavit/ID' in applicant.philippine.ph_docs %}checked{% endif %}>
          <p class="citizenship-document-choice">Voter’s affidavit or voter’s identification card</p>
        </div>

        <div class="third-box-second-choice">
          <input type="checkbox" class="citizenship-document-input" name="ph_docs[]" value="Naturalization Certificate"
            {% if editing and 'Naturalization Certificate' in applicant.philippine.ph_docs %}checked{% endif %}>
          <p class="citizenship-document-choice">Naturalization Certificate</p>
        </div>

       <div class="third-box-second-choice">
          <input type="checkbox" class="citizenship-document-input" name="ph_docs[]" value="OTHERS:"
          {% if editing and other_docs %}checked{% endif %}>
          <p class="citizenship-document-choice">Others (specify)</p>

          {% set other_docs = [] %}
          {% if editing and applicant and applicant.philippine and applicant.philippine.ph_docs %}
            {% for doc in applicant.philippine.ph_docs %}
              {% if doc.startswith('OTHERS:') %}
                {% set _ = other_docs.append(doc) %}
              {% endif %}
            {% endfor %}
          {% endif %}

          {% if other_docs %}
            <input type="text" name="ph_docs_others" value="{{ other_docs[0].replace('OTHERS:', '').strip() }}">
          {% else %}
            <input type="text" class="citizenship-document-others" name="ph_docs_others">
          {% endif %}
        </div>
       </div>
      <div class="third-box-third">
        <p class="a10">12. PHILIPPINE PERMANENT ADDRESS</p>
        <input type="text" class="address" name="philippine_address" value="{{ applicant.philippine_address if editing else '' }}">
      </div>
      <div class="third-box-fourth">
        <p class="a10">13. ADDRESS IN U.S. OR COUNTRY OF RESIDENCE</p>
        <input type="text" class="address" name="ph_residence" value="{{ applicant.ph_residence if editing else '' }}">
      </div>
      <div class="third-box-fifth">
        <div class="person-info">
          <p class="a10">14. MOBILE NO.</p>
          <input type="text" class="person-info-input1" name="home_telephone_no" value="{{ applicant.home_telephone_no if editing else '' }}">
        </div>
        <div class="person-info">
          <p class="a10">15. E-MAIL ADDRESS</p>
          <input type="text" class="person-info-input" name="applicant_email" value="{{ applicant.applicant_email if editing else '' }}">
        </div>
        <div class="person-info">
          <p class="a10">16. WORK TELEPHONE NO.</p>
          <input type="text" class="person-info-input" name="work_tl_no" value="{{ applicant.work_tl_no if editing else '' }}">
        </div>
        <div class="person-info">
          <p class="a10">17. PRESENT OCCUPATION</p>
          <input type="text" class="person-info-input" name="applicant_occupation" value="{{ applicant.applicant_occupation if editing else '' }}">
        </div>
      </div>
      <div class="third-box-sixth">
        <p class="a10">18. WORK ADDRESS</p>
        <input type="text" class="address" name="work_address" value="{{ applicant.work_address if editing else '' }}">
      </div>
    </div>
      {% if editing and overseas_list %}
        <!-- UPDATE PHASE: display pre-filled citizenship data -->
        <input type="hidden" name="citizenship_button" value="on">
        <input type="hidden" name="no_of_citizenship" value="{{ overseas_list|length }}">

        <div class="citizenship-container">
          {% for c in overseas_list %}
            <div class="citizenship-entry">
              <p class="citizenship-num">Citizenship #{{ loop.index }}</p>
              <div class="citizenship-first">
                <div class="citizenship-first-text">
                  <p>19.a. APPLICANT’S CURRENT FOREIGN CITIZENSHIPS</p>
                  <p>19.b. MODE OF ACQUISITION OF FOREIGN CITIZENSHIPS</p>
                  <p>20.a. DATE OF ACQUISITION OF FOREIGN CITIZENSHIPS</p>
                </div>
                <div class="citizenship-first-input">
                  <input type="text" name="applicant_foreign_citizenship[]" value="{{ c.applicant_foreign_citizenship }}" class="citizenship-input1">
                  <input type="text" name="acquisition_foreign_citizenship[]" value="{{ c.acquisition_foreign_citizenship }}" class="citizenship-input2">
                  <input type="date" name="date_acquisition[]" value="{{ c.date_acquisition }}" class="citizenship-input3">
                </div>
              </div>
              <div class="citizenship-first">
                <div class="citizenship-first-text">
                  <p>20.b. NATURALIZATION CERTIFICATE NUMBERS</p>
                  <p>21.a. FOREIGN PASSPORT NO.</p>
                  <p>21.b. DATE OF ISSUANCE OF FOREIGN PASSPORT</p>
                </div>
                <div class="citizenship-first-input">
                  <input type="text" name="naturalization_no[]" value="{{ c.naturalization_no }}" class="citizenship-input1">
                  <input type="text" name="foreign_passport_no[]" value="{{ c.foreign_passport_no }}" class="citizenship-input2">
                  <input type="date" name="date_issuance[]" value="{{ c.date_issuance }}" class="citizenship-input3">
                </div>
              </div>
              <div class="citizenship-first">
                <div class="citizenship-first-text">
                  <p>22. Place of Issuance</p>
                  <p>23. FOREIGN DOCUMENT</p>
                </div>
                <div class="citizenship-first-input">
                  <input type="text" name="place_issuance[]" value="{{ c.place_issuance }}" class="citizenship-input1">
                  <input type="text" name="foreign_supporting_docs[]" value="{{ c.foreign_supporting_docs }}" class="citizenship-input2">
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <!-- CREATION PHASE: JS-generated inputs -->
        <div class="question">
          <p class="citizenship-question">How many citizenships do you have?</p>
          <input type="text" class="citizenship-number-input" id="citizenshipCount">
          <button class="submit" type="button" onclick="generateCitizenships()">Submit</button>
          <input type="hidden" id="no_of_citizenship" name="no_of_citizenship">
          <input type="hidden" name="citizenship_button" value="on">
        </div>
        <div class="citizenship-container" id="citizenshipContainer"></div>
      {% endif %}

      {% if editing and children %}
        <input type="hidden" name="no_of_child_included" value="{{ children|length }}">
        <input type="hidden" name="child_button" value="on">

        {% for child in children %}
          <div class="child-container">
            <input type="hidden" name="child_id[]" value="{{ child.child_id }}">
            <p class="child-num">Child #{{ loop.index }}</p>

            <div class="child-first">
              <p class="a24">24.a. Child's name</p>
              <div class="child-first-text">
                <p class="a24-name">First Name - Middle Name - Last Name</p>
                <p class="b24">24.b. GENDER</p>
                  <input type="radio" name="child_gender_{{ loop.index }}" value="M" {% if child.child_gender == 'M' %}checked{% endif %} required> <label class="gender-text">MALE</label>
                  <input type="radio" name="child_gender_{{ loop.index }}" value="F" {% if child.child_gender == 'F' %}checked{% endif %}> <label class="gender-text">FEMALE</label>
              </div>
              <input type="text" class="child-name-input" name="child_name[]" value="{{ child.child_name }}">
            </div>

            <div class="child-second">
              <p class="c24">24.c. CIVIL STATUS:</p>
              {% set cs = child.child_civil_status %}
              <input type="radio" name="child_status_{{ loop.index }}" value="S" {% if cs == 'S' %}checked{% endif %} required> <label>SINGLE</label>
              <input type="radio" name="child_status_{{ loop.index }}" value="M" {% if cs == 'M' %}checked{% endif %}> <label>MARRIED</label>
              <input type="radio" name="child_status_{{ loop.index }}" value="D" {% if cs == 'D' %}checked{% endif %}> <label>DIVORCED</label>
              <input type="radio" name="child_status_{{ loop.index }}" value="W" {% if cs == 'W' %}checked{% endif %}> <label>WIDOW/ER</label>
              <input type="radio" name="child_status_{{ loop.index }}" value="O" {% if cs.startswith('Others:') %}checked{% endif %}> <label>OTHERS</label>
              <input type="text" name="child_status_other[]" value="{% if cs.startswith('Others:') %}{{ cs.split(':', 1)[1].strip() }}{% endif %}">
            </div>

            <div class="child-third">
              <div class="child-third-text">
                <p class="d24">24.d. Date of Birth</p>
                <p class="e24">24.e. Place of Birth</p>
                <p class="f24">24.f. Countries of Citizenship</p>
              </div>
              <div class="child-third-input">
                <input type="date" name="child_dob[]" class="child-birthday" value="{{ child.child_BD }}">
                <input type="text" name="child_birthplace[]" class="child-birthplace-input" value="{{ child.child_PB }}">
                <input type="text" name="child_citizenship[]" class="child-citizenship-input" value="{{ child.child_citizenship }}">
              </div>
            </div>

            <div class="child-fourth">
              <p>24.g. Country of Permanent Residence</p>
              <input type="text" name="child_residence[]" class="child-residence-input" value="{{ child.country_pa }}">
            </div>

            <div class="child-fifth">
              <p>24.h. SUPPORTING DOCUMENTS:</p>
              {% set docs = (child.child_supporting_docs or '').split(', ') %}
              <label><input type="checkbox" name="child_docs_{{ loop.index  }}[]" value="ph_birth_cert" {% if 'ph_birth_cert' in docs %}checked{% endif %}> Philippine Birth Certificate</label><br>
              <label><input type="checkbox" name="child_docs_{{ loop.index  }}[]" value="old_passport" {% if 'old_passport' in docs %}checked{% endif %}> Old Philippine Passport</label><br>
              <label><input type="checkbox" name="child_docs_{{ loop.index  }}[]" value="foreign_birth_cert" {% if 'foreign_birth_cert' in docs %}checked{% endif %}> Foreign Birth Certificate</label><br>
              <label><input type="checkbox" name="child_docs_{{ loop.index  }}[]" value="foreign_passport" {% if 'foreign_passport' in docs %}checked{% endif %}> Foreign Passport</label>
            </div>

            <div class="child-sixth">
              <p>24.i. IMMIGRATION DOCUMENTS:</p>
              <input type="text" name="child_immigration_docs[]" class="immigration-input" value="{{ child.immigration_docs }}">
            </div>
          </div>
        {% endfor %}
      {% else %}
        <div class="question">
          <p class="citizenship-question">How many children do you have?</p>
          <input type="text" class="citizenship-number-input" id="childCount">
            <button class="submit" type="button" onclick="generateChildren()">Submit</button>
          <input type="hidden" id="no_of_child_included" name="no_of_child_included">
          <input type="hidden" name="child_button" value="on">
        </div>
        <div id="childContainer"></div>
      {% endif %}
    </div>
      <div class="fifth-box">
        <div class="child-container" id="childContainer"></div>
    </div>
      <button class="submit-button" type="submit" name="action" value="{{ 'update' if editing else 'submit' }}">
        {{ 'Update' if editing else 'Submit' }}
       </button>
    </div>
  </form>
  <div class="footer">
    <img src="{{ url_for('static', filename='Images/footer.png') }}" class="FooterPNG">
  </div>
<script>
  
  function generateCitizenships() {
    const count = parseInt(document.getElementById("citizenshipCount").value);
    document.getElementById("no_of_citizenship").value = count;
    const container = document.getElementById("citizenshipContainer");
    container.innerHTML = '';

    for (let i = 1; i <= count; i++) {
      const block = document.createElement("div");
      block.className = "citizenship-entry";

      block.innerHTML = `
          <p class="citizenship-num">Citizenship #${i}</p>
          <div class="citizenship-first">
            <div class="citizenship-first-text">
              <p>19.a. APPLICANT’S CURRENT FOREIGN CITIZENSHIPS</p>
              <p class="b19">19.b. MODE OF ACQUISITION OF FOREIGN CITIZENSHIPS</p>
              <p>20.a. DATE OF ACQUISITION OF FOREIGN CITIZENSHIPS</p>
            </div>
            <div class="citizenship-first-input">
              <input type="text" name="applicant_foreign_citizenship[]" class="citizenship-input1">
              <input type="text" name="acquisition_foreign_citizenship[]" class="citizenship-input2">
              <input type="date" name="date_acquisition[]" class="citizenship-input3">
            </div>
          </div>
          <div class="citizenship-first">
            <div class="citizenship-first-text">
              <p>20.b. NATURALIZATION CERTIFICATE NUMBERS</p>
              <p class="foreign21">21.a. FOREIGN PASSPORT NO.</p>
              <p>21.b. DATE OF ISSUANCE OF FOREIGN PASSPORT</p>
            </div>
            <div class="citizenship-first-input">
              <input type="text" name="naturalization_no[]" class="citizenship-input1">
              <input type="text" name="foreign_passport_no[]" class="citizenship-input2">
              <input type="date" name="date_issuance[]" class="citizenship-input3">
            </div>
          </div>
          <div class="citizenship-first">
            <div class="citizenship-first-text">
              <p>22. Place of Issuance</p>
              <p class="foreign23">23. FOREIGN DOCUMENT</p>
            </div>
            <div class="citizenship-first-input">
              <input type="text" name="place_issuance[]" class="citizenship-input1">
              <input type="text" name="foreign_supporting_docs[]" class="citizenship-input2">
            </div>
          </div>
      `;
      container.appendChild(block);
    }
  }

  function generateChildren() {
  const count = parseInt(document.getElementById("childCount").value);
  document.getElementById("no_of_child_included").value = count;
  const container = document.getElementById("childContainer");
  container.innerHTML = '';

  for (let i = 1; i <= count; i++) {
    const block = document.createElement("div");
    block.className = "child-container";

    block.innerHTML = `
        <p class="child-num">Child #${i}</p>
        
        <div class="child-first">
          <p class="a24">24.a. Child's name</p>
          <div class="child-first-text">
            <p class="a24-name">First Name - Middle Name - Last Name</p>
              <p class="b24">24.b. GENDER</p>
            <input type="radio" name="child_gender_${i}" value="M">
            <label class="gender-text">MALE</label>
            <input type="radio" name="child_gender_${i}" value="F">
            <label class="gender-text">FEMALE</label>
          </div>
          <input type="text" class="child-name-input" name="child_name[]">
        </div>

        <div class="child-second">
          <p class="c24">24.c. CIVIL STATUS:</p>
          <input type="radio" name="child_status_${i}" value="S"><label class="civil-status-choice">SINGLE</label>
          <input type="radio" name="child_status_${i}" value="M"><label class="civil-status-choice">MARRIED</label>
          <input type="radio" name="child_status_${i}" value="D"><label class="civil-status-choice">DIVORCED</label>
          <input type="radio" name="child_status_${i}" value="W"><label class="civil-status-choice">WIDOW/ER</label>
          <input type="radio" name="child_status_${i}" value="O"><label class="civil-status-choice">OTHERS</label>
          <input type="text" name="child_status_other[]" class="child-civil-status-others">
        </div>

        <div class="child-third">
          <div class="child-third-text">
              <p class="d24">24.d. Date of Birth</p>
              <p class="e24">24.e. Place of Birth</p>
              <p class="f24">24.f. Countries of Citizenship</p>
            </div>
          <div class="child-third-input">
            <input type="date" name="child_dob[]" class="child-birthday">
            <input type="text" name="child_birthplace[]" class="child-birthplace-input">
            <input type="text" name="child_citizenship[]" class="child-citizenship-input">
          </div>
        </div>

        <div class="child-fourth">
          <p>24.g. Country of Permanent Residence</p>
          <input type="text" name="child_residence[]" class="child-residence-input">
        </div>

        <div class="child-fifth">
          <p>24.h. SUPPORTING DOCUMENTS:</p>
          <label><input type="checkbox" name="child_docs_${i}[]" value="ph_birth_cert"> Philippine Birth Certificate</label><br>
          <label><input type="checkbox" name="child_docs_${i}[]" value="old_passport"> Old Philippine Passport</label><br>
          <label><input type="checkbox" name="child_docs_${i}[]" value="foreign_birth_cert"> Foreign Birth Certificate</label><br>
          <label><input type="checkbox" name="child_docs_${i}[]" value="foreign_passport"> Foreign Passport</label>
        </div>

        <div class="child-sixth">
          <p>24.i. IMMIGRATION DOCUMENTS:</p>
          <input type="text" name="child_immigration_docs[]" class="immigration-input">
        </div>
    `;
    container.appendChild(block);
  }
}
</script>

</body>

</html>
